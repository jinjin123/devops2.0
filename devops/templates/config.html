{% extends "index.html" %}
{% block meta %}
    <script language="javascript" type="text/javascript" src="/static/plugin/jquery.js"></script>
    <style type="text/css">
    *{margin:0;padding:0;list-style-type:none;}
    a,img{border:0;cursor: hand}
    body{font:12px/180% Arial, Helvetica, sans-serif, "新宋体";background:#ddd; overflow: hidden;}
/* leftsead */
    #leftsead{width:131px;height:143px;position:fixed;top:600px;right:0px;z-index: 100;}
    *html #leftsead{margin-top:258px;position:absolute;}
    #leftsead li{width:131px;height:53px;}
    #leftsead li img{float:right;border-bottom-left-radius:5px;border-top-left-radius:5px;}
    #leftsead li a{height:49px;float:right;display:block;min-width:47px;max-width:131px;}
    #leftsead li a .shows{display:block;}
    #leftsead li a .hides{margin-right:-166px;}
    #leftsead li a.youhui .hides{display:none;position:absolute;right:215px;top:-111px;width:200px;}
    .glyphicon {top:-1px;}
    .col-lg-12{
      width: 95%;
      margin-left: 25px;
    }
    </style>
{% endblock %}


	<header class="cd-main-header">
        {% block ext %}
{#   loadding  pic     #}
        <div id="loadPic"
             style="text-align: center;padding: 10px;color: white;font-weight:bold   ;border-radius:8px;background: rgba(0,0,0,0.5);z-index: 1004;width: 200px;height:40px;margin:auto;position:fixed;top:0px;bottom:0px;right:0px;left:0px;display: none;">
            <i class="fa fa-refresh fa-spin"></i>
            <span style="letter-spacing: 4px;">请稍后...</span>
        </div>
{#    loadding end     #}
{#    show error    #}
        <div id="confirmCommandDiv"
             style="z-index: 1005;display:none;position: fixed;  top: 0px; bottom: 0px ;left: 0px; right: 0px; ">
            <div style="width:auto;height: 200px;position: relative;left: 0px;right: 0px;top: 40%;bottom: 60%;margin: auto;;"
                 id="">
                <div class="modal "
                     style="overflow:hidden;overflow-y:hidden;position:fixed;left:0px;right:0px;bottom:0px;top:0px;margin:auto;display:block;">
                    <div class="modal-dialog">
                        <div class="modal-content  ">
                            <div class="modal-header" style="cursor: move;">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                <h4 class=" glyphicon glyphicon-alert " style="color: red;">错误</h4>
                            </div>
                            <div class="modal-body  ">
                                <p id="showWarnContent" style="text-align:center;color:red; font-weight:bold;">
                                    请确认您的内容?</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal"
                                        id="forceExecuteCommand">强制
                                </button>
                                <button type="button" class="btn btn-default" data-dismiss="modal"
                                        id="closeConfirmCommandButton">
                                    放弃
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
{#    show error  end  #}

{#   upload plugins     #}
        <div id="uploadScriptProgressDiv" class="progress progress-striped" style="font-weight: bold;font-size: 500%;z-index: 1004;width:40%;height:5%;margin:auto;position:fixed;top:0%;bottom:0%;right:0px;left:120%;display: block;">
            <div id="showScriptProgressText" class="progress-bar  progress-bar-success active">
            </div>
        </div>
            {% endblock %}
	</header> <!-- .cd-main-header -->

    <div id="leftsead">
    	<ul>
            {# 其实可以将通知，邮件都放到这里来，后面在考虑吧  #}
{#	     <li>#}
{#			<a id="top_btn">#}
{#				<img src="../static/img/foot03/ll06.png" width="47" height="49" class="hides"/>#}
{#				<img src="../static/img/foot03/l06.png" width="47" height="49" class="shows" />#}
{#			</a>#}
{#		</li>#}

		<li>
			<a href="">
				<img src="../static/img/foot03/ll03.png"  width="47" height="49" class="hides"/>
				<img src="../static/img/foot03/l03.png" width="47" height="49" class="shows" />
			</a>
		</li>
            {# 增加微信聊天求助websocket#}
{#            <li>#}
{#                <a href="">#}
{#                  <img src="../static/img/foot03/ll02.png" width="166" height="49" class="hides"/>#}
{#                  <img src="../static/img/foot03/l04.png" width="47" height="49" class="shows" />#}
{#                </a>#}
{#            </li>#}
		    <li>
			    <a class="youhui">
				    <img src="../static/img/foot03/l02.png" width="47" height="49" class="shows" />
			    	<img src="../static/img/foot03/qrcode.jpg" width="196" height="205" class="hides" usemap="#taklhtml"/>
		    	</a>
	    	</li>
            <li>
			    <a class="youhui">
				    <img src="../static/img/foot03/l02.png" width="47" height="49" class="shows" />
			    	<img src="../static/img/foot03/qrcode.jpg" width="196" height="205" class="hides" usemap="#taklhtml"/>
		    	</a>
	    	</li>
    	</ul>
    </div><!--leftsead end-->
{% block content %}
    <main class="cd-main">
      <section class="cd-section PushCode visible">
        <div id="index-content" class="cd-content" style="padding: 1em 19px;margin:0 0 0 -90px">
          <div style="background:white;width:100%;margin:20px 0 60px 5px;position:absolute;top:0%;bottom:0%;z-index:9999;">
              <div id="page-wrapper">
                <div class="row">
                  <div class="col-lg-12">
                    <h1 class="page-header"><i class="fa  fa-wrench  "></i> 全局配置</h1>
                  </div>
                  <!-- /.col-lg-12 -->
                </div>
                <div class="row">
                  <div class="col-lg-12">
                    <div class="panel panel-default">
                      <div class="panel-heading">
                        <i class="fa   fa-gear"></i> 全局配置
                      </div>
                      <div class="panel-body">
                        <ul class="nav nav-tabs">
                          <li class="active"><a href="#home" data-toggle="tab"><i class="fa fa-history"></i> 日志记录</a>
                          </li>
                          <li><a href="#profile" data-toggle="tab"><i class="fa fa-envelope"></i> 部署通知</a>
                          </li>
                        </ul>
                        <div class="tab-content">
                          <div class="tab-pane fade in active" id="home">
                            <div class="row">
                              <div class="col-lg-12">
                                <br>
                                <form role="form" method="post" id="addConfig" class="main form-horizontal">{% csrf_token %}

                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa  fa-tasks"></i> 模块操作记录</label>
                                    <div class="col-sm-6">
                                      <select class="form-control" name="ansible_model">
              															{% if config.ansible_model == 1 %}
              																<option selected="selected" value="1">开启</option>
              																<option value="0">关闭</option>
              															{% else %}
              																<option selected="selected" value="0">关闭</option>
              																<option  value="1">开启</option>
              															{% endif %}
              														</select>
                                    </div>
                                  </div>

                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-bookmark"></i> 剧本操作记录</label>
                                    <div class="col-sm-6">
                                      <select class="form-control" name="ansible_playbook">
              															{% if config.ansible_playbook == 1 %}
              																<option selected="selected" value="1">开启</option>
              																<option value="0">关闭</option>
              															{% else %}
              																<option selected="selected" value="0">关闭</option>
              																<option  value="1">开启</option>
              															{% endif %}
              														</select>
                                    </div>
                                  </div>

                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-clock-o"></i> 计划任务操作记录</label>
                                    <div class="col-sm-6">
                                      <select class="form-control" name="cron">
              															{% if config.cron == 1 %}
              																<option selected="selected" value="1">开启</option>
              																<option value="0">关闭</option>
              															{% else %}
              																<option selected="selected" value="0">关闭</option>
              																<option  value="1">开启</option>
              															{% endif %}
              														</select>
                                    </div>
                                  </div>

                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-github-alt"></i> 项目操作记录</label>
                                    <div class="col-sm-6">
                                      <select class="form-control" name="project">
              															{% if config.project == 1 %}
              																<option selected="selected" value="1">开启</option>
              																<option value="0">关闭</option>
              															{% else %}
              																<option selected="selected" value="0">关闭</option>
              																<option  value="1">开启</option>
              															{% endif %}
              														</select>
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-database"></i> 资产操作记录</label>
                                    <div class="col-sm-6">
                                      <select class="form-control" name="assets">
              															{% if config.assets == 1 %}
              																<option selected="selected" value="1">开启</option>
              																<option value="0">关闭</option>
              															{% else %}
              																<option selected="selected" value="0">关闭</option>
              																<option  value="1">开启</option>
              															{% endif %}
              														</select>
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa  fa-linux"></i> 服务器命令记录</label>
                                    <div class="col-sm-6">
                                      <select class="form-control" name="server">
              															{% if config.server == 1 %}
              																<option selected="selected" value="1">开启</option>
              																<option value="0">关闭</option>
              															{% else %}
              																<option selected="selected" value="0">关闭</option>
              																<option  value="1">开启</option>
              															{% endif %}
              														</select>
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-envelope-square"></i> 部署邮件通知</label>
                                    <div class="col-sm-6">
                                      <select class="form-control" name="email">
              															{% if config.email == 1 %}
              																<option selected="selected" value="1">开启</option>
              																<option value="0">关闭</option>
              															{% else %}
              																<option selected="selected" value="0">关闭</option>
              																<option  value="1">开启</option>
              															{% endif %}
              														</select>
                                    </div>
                                  </div>
                                  <div class="hr hr32 hr-dotted"></div>
                                  <div class="form-group">
                                    <div class="col-md-offset-3 col-md-9">
                                      <button class="btn btn-default" type="button" onclick="addConfigData(this)">
              															<i class="fa fa-check"></i>
              																			提交
              														</button> &nbsp; &nbsp; &nbsp;
                                      <button class="btn btn-default" type="reset">
              															<i class="fa fa-undo"></i>
              																			撤销
              														</button>
                                    </div>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                          <div class="tab-pane fade" id="profile">
                            <div class="row">
                              <div class="col-lg-12">
                                <br>
                                <form role="form" method="post" id="addEmail" class="main form-horizontal">{% csrf_token %}

                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-globe"></i> 本站点URL</label>
                                    <div class="col-sm-6">
                                      <input class="form-control" type="text" value="{{email.site}}" placeholder="http://192.168.1.233" name="site" />
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-user"></i> SMTP服务器地址</label>
                                    <div class="col-sm-6">
                                      <input class="form-control" type="text" value="{{email.host}}" placeholder="smtp.163.com" name="host" />
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-subscript"></i> 端口</label>
                                    <div class="col-sm-6">
                                      <input class="form-control" type="text" id="form-field-3" value="{{email.port}}" placeholder="25" name="port" />
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-envelope"></i> 发送账户</label>
                                    <div class="col-sm-6">
                                      <input class="form-control" type="text" value="{{email.user}}" placeholder="ops@163.com" name="user" />
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-lock"></i> 密码</label>
                                    <div class="col-sm-6">
                                      <input class="form-control" type="password" id="form-field-3" value="{{email.passwd}}" placeholder="email" name="passwd" />
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-flag-o  "></i> 邮件主题标识</label>
                                    <div class="col-sm-6">
                                      <input class="form-control" type="text" id="form-field-3" value="{{email.subject}}" placeholder="[xx公司]" name="subject" />
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label"><i class="fa fa-pencil-square-o"></i> 抄送用户</label>
                                    <div class="col-sm-6">
                                      <input class="form-control" type="text" id="form-field-3" value="{{email.cc_user}}" placeholder="多个邮箱以,号分开" name="cc_user" />
                                    </div>
                                  </div>
                                  <div class="hr hr32 hr-dotted"></div>
                                  <div class="form-group">
                                    <div class="col-md-offset-3 col-md-9">
                                      <button class="btn btn-default" type="buttun" onclick="addEmailData(this)">
              															<i class="fa fa-check"></i>
              																			提交
              														</button> &nbsp; &nbsp; &nbsp;
                                      <button class="btn btn-default" type="reset">
              															<i class="fa fa-undo"></i>
              																			撤销
              														</button>
                                    </div>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- /.row (nested) -->
                      </div>
                      <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                  </div>
                  <!-- /.col-lg-12 -->
                </div>
              </div>
          </div>
        </div>
      </section>
    </main>
    <div id="cd-loading-bar" data-scale="1" class="index" style=""></div>
    {% endblock %}

{% block footer %}
    <script src="/static/js/config.js"></script>
    <script src="/static/js/auto-line-number.js"></script>
    <script src="/static/js/headimg.js"></script>
    <!-- <script src="/static/js/jquery-migrate-1.0.0.js"></script>  {# this is 1.8 feature support toggle  ,1.9 is already  deprecated#} -->
    <script src="/static/js/jquery.menu-aim.js"></script>
    <script src="/static/js/rightpg.js"></script> <!-- Resource $ -->
    <script src="/static/js/sidebar-menu.js"></script> <!-- Resource $ -->
    <script src="/static/js/velocity.min.js"></script>
    <script>
    $.sidebarMenu($('.sidebar-menu'))
    </script>
{% endblock %}
