<html>
<head>
    <link rel="stylesheet" href="../static/css/reset.css"> <!-- CSS reset -->
	<link rel="stylesheet" type="text/css" href="../static/css/default.css">
	<link rel="stylesheet" href="../static/css/style.css"> <!-- Resource style -->
    <link rel="stylesheet" href="../static/css/sidebar-menu.css">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DevOps 2.0 </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../static/img/lgmeta.ico" rel="Shortcut Icon">
  	<link rel="stylesheet" media="screen" href="../static/css/bootstrap.min.css">
    <link href="../static/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/index.css">
    <link rel="stylesheet" href="../static/css/headimg.css">
{#    <script src="../static/js/jquery-1.11.2.min.js"></script>#}
    <script src="../static/js/jquery-2.2.3.min.js" type="application/javascript"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="../static/js/Glabal.js" type="application/javascript"></script>
{% block meta %}
    <link href="../static/plugin/memory/c3-b03125fa.css" media="screen" rel="stylesheet" type="text/css">
    <script language="javascript" type="text/javascript" src="../static/plugin/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="../static/plugin/jquery.flot.js"></script>

    <style type="text/css">
    *{margin:0;padding:0;list-style-type:none;}
    a,img{border:0;cursor: hand}
    body{font:12px/180% Arial, Helvetica, sans-serif, "新宋体";background:#ddd;}
/* leftsead */
    #leftsead{width:131px;height:143px;position:fixed;top:600px;right:0px;z-index: 100;}
    *html #leftsead{margin-top:258px;position:absolute;}
    #leftsead li{width:131px;height:53px;}
    #leftsead li img{float:right;border-bottom-left-radius:5px;border-top-left-radius:5px;}
    #leftsead li a{height:49px;float:right;display:block;min-width:47px;max-width:131px;}
    #leftsead li a .shows{display:block;}
{#    #leftsead li a .hides{margin-right:-166px;cursor:pointer;cursor:hand;}#}
    #leftsead li a .hides{margin-right:-166px;}
    #leftsead li a.youhui .hides{display:none;position:absolute;right:215px;top:-111px;width:200px;}
    .glyphicon {color: #585C64; font-size: large;}
    .main-sidebar{
	position: absolute;
	padding-top: 4%;
	left: 0;
	height: 100%;
	min-height: 100%;
{#	width: 230px;#}
	z-index: 5;
	background-color: #222d32;
    }
    #notice{position: absolute;  right: 220px;  top: 40%;}
    #mail{position: absolute;  right: 190px;  top: 40%;}
    #set{position: absolute;  right: 160px;  top: 40%;}
    #out{position: absolute;  right: 130px;  top: 40%;}
    </style>
    </head>
{% endblock %}
<body>
            <div id="showErrorInfoDIV"
             style="z-index: 1005;display:none;position: fixed;  top: 0px; bottom: 0px ;left: 0px; right: 0px; ">
            <div style="width:auto;height: 200px;position: relative;left: 0px;right: 0px;top: 40%;bottom: 60%;margin: auto;;"
                 id="">
                <div class="modal "
                     style="overflow:hidden;overflow-y:hidden;position:fixed;left:0px;right:0px;bottom:0px;top:0px;margin:auto;display:block;">
                    <div class="modal-dialog">
                        <div class="modal-content  ">
                            <div class="modal-header" style="cursor: move;">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                <h4 class=" glyphicon glyphicon-alert " style="color: red;">错误</h4>
                            </div>
                            <div class="modal-body  ">
                                <p id="showWarnContent" style="text-align:center;color:red; font-weight:bold;">
                                    请确认您的内容?</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" id="closeButton">好的
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="shadow"
                 style="display:none;position: absolute;  top: 0px; bottom: 0px ;left: 0px; right: 0px; z-index: 1006;background: rgba(0,0,0,0.4); "></div>
        </div>
        <div class="  glyphicon glyphicon-ok  alert alert-success" id="showSuccessNotic"
             style="position:fixed;left: 40%;right: 40%;z-index: 1004;top: 10%;font-size:small;display: none;"> 操作成功!
        </div>
        <div id="loadPic"
             style="text-align: center;padding: 10px;color: white;font-weight:bold   ;border-radius:8px;background: rgba(0,0,0,0.5);z-index: 1004;width: 200px;height:40px;margin:auto;position:fixed;top:0px;bottom:0px;right:0px;left:0px;display: none;">
            <i class="fa fa-refresh fa-spin"></i>
            <span style="letter-spacing: 4px;">请稍后...</span>
        </div>

	<header class="cd-main-header">
		<a href="#0" class="cd-logo"><img src="../static/img/logo.jpeg" alt="Logo"></a>
		<div class="cd-search is-hidden">
			<form action="#0">
				<input type="search" placeholder="Search...">
			</form>
		</div> <!-- cd-search -->
		<a href="#0" class="cd-nav-trigger">Menu<span></span></a>
		<nav class="cd-nav">
			<ul class="cd-top-nav">
                <a  class="glyphicon glyphicon-bullhorn" href="#0" id="notice"></a>
                <a class=" glyphicon glyphicon-envelope" href="#1" id="mail"></a>
                <a href="javascript:;" onclick="$('#head').show()"  class="glyphicon glyphicon-cog show" id="set"></a>
                <a href="/ops/logout" class="glyphicon glyphicon-share" id="out"></a>
				<li class="has-children account">
					<a href="#0">
                        <img src={{ head }} >
                        {{  user }}
					</a>
				</li>
			</ul>
		</nav>
       <div class="box" id="head">
            <div class="head_box">
                <a href="javascript:;" onclick="$('#head').hide()" class="close">关闭</a>
                <div>
                    <a href="javascript:;" class="file">上传头像
                        <input id="hd_img_in" type="file" class="" accept="images/*">
                    </a>
                    <div class="container"></div>
                    <button class="btn btn-info head" onclick="head_img(this)">提交</button>
                    <a href="javascript:;" onclick="$('.pwd_box').css('display','block')" class="btn btn-info cg-bt ">
                        <div class="cg-pwd">更改密码</div>
                    </a>
                </div>
            </div>
        </div>
           <div class="" id="change_pwd">
            <div class="pwd_box">
                <input placeholder="修改密码" name="password" value size="30" maxlength="30" type="password" class=""
                       id="" style="border-radius: 10px;">
                <button class="btn btn-info pwd">
                    <div class="head-pwd">提交</div>
                </button>
                <a href="javascript:;" onclick="$('#change_pwd').hide()" class="btn btn-danger pwd">
                    <div class="head-pwd-close">关闭</div>
                </a>
            </div>
        </div>
        {% block ext %}
        {% endblock %}
	</header> <!-- .cd-main-header -->

            {% block select_bar %}
    <aside class="main-sidebar">
        <section class="sidebar">
            <ul class="sidebar-menu">
                    <li class="content">
                        <a id="index" class="selected" data-menu="index" >
                            <i class="fa fa-dashboard"></i> <span>仪表盘</span> <i class="fa fa-angle-left pull-right"></i>
                        </a>
                    </li>
                <li class="content">
                    <a id="host_input" data-menu="host_input">
                        <i class="fa fa-cogs"></i>
                        <span>服务器信息管理</span>
                    </a>
                </li>
                <li class="content">
                    <a  onclick="" id='cmd' data-menu="cmd">
                        <i class="fa fa-terminal"></i> <span>命令执行</span>
                    </a>
                </li>
                <li class="content">
                    <a  onclick="" id='script' data-menu="script">
                        <i class="fa  fa-superscript"></i> <span>脚本管理</span>
                    </a>
                </li>
                <li class="content">
                    <a id="crond"  data-menu="crond" >
                        <i class="fa fa-history"></i><span>计划任务</span>
                    </a>
                </li>
                <li class="content">
                    <a id="key" data-menu="UploadKey" >
                        <i class="fa fa-key"></i><span>秘钥管理</span>
                    </a>
                </li>
              <li class="treeview">
                    <a href="#">
                        <i class="fa fa-hand-o-up"></i> <span>系统发布</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li class="content"><a id="Pushcode" data-menu="PushCode"><i class="fa fa-circle-o"></i> 更新代码 </a></li>
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> Advanced</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-video-camera"></i> <span>Docker</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li class="content"><a id="docker_repo" data-menu="docker_repo"><i class="fa fa-circle-o"></i>镜像仓库</a></li>
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> 容器管理</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-video-camera"></i> <span>操作审计</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> General </a></li>
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> Advanced</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-video-camera"></i> <span>监控中心</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> General </a></li>
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> Advanced</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-video-camera"></i> <span>故障处理</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> General </a></li>
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> Advanced</a></li>
                    </ul>
                </li>
                 <li class="treeview">
                    <a href="#">
                        <i class="fa fa-video-camera"></i> <span>资产管理</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> General </a></li>
                        <li class="content"><a href="#"><i class="fa fa-circle-o"></i> Advanced</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-folder"></i> <span>文件传输</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li class="content"><a id="fileup" data-menu="fileup"><i class="fa fa-circle-o"></i>上传 </a></li>
                        <li class="content"><a id="filedown" data-menu="filedown"><i class="fa fa-circle-o"></i>下载</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa  fa-folder-open"></i> <span>远程可配置</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li class="content"><a id="remotefile" data-menu="remotefile"><i class="fa fa-circle-o"></i> 文件</a></li>
                        <li class="content"><a id="" data-menu=""><i class="fa fa-circle-o"></i>下载</a></li>
                    </ul>
                </li>
                <li><a href="#"><i class="fa fa-book"></i> <span>Documentation</span></a></li>
            </ul>
        </section>
    </aside>
            {% endblock %}


    <div id="leftsead">
    	<ul>
            {# 其实可以将通知，邮件都放到这里来，后面在考虑吧  #}
{#	     <li>#}
{#			<a id="top_btn">#}
{#				<img src="../static/img/foot03/ll06.png" width="47" height="49" class="hides"/>#}
{#				<img src="../static/img/foot03/l06.png" width="47" height="49" class="shows" />#}
{#			</a>#}
{#		</li>#}

		<li>
			<a href="">
				<img src="../static/img/foot03/ll03.png"  width="47" height="49" class="hides"/>
				<img src="../static/img/foot03/l03.png" width="47" height="49" class="shows" />
			</a>
		</li>

            {# 增加微信聊天求助websocket#}
{#            <li>#}
{#                <a href="">#}
{#                  <img src="../static/img/foot03/ll02.png" width="166" height="49" class="hides"/>#}
{#                  <img src="../static/img/foot03/l04.png" width="47" height="49" class="shows" />#}
{#                </a>#}
{#            </li>#}
		    <li>
			    <a class="youhui">
				    <img src="../static/img/foot03/l02.png" width="47" height="49" class="shows" />
			    	<img src="../static/img/foot03/qrcode.jpg" width="196" height="205" class="hides" usemap="#taklhtml"/>
		    	</a>
	    	</li>
            <li>
			    <a class="youhui">
				    <img src="../static/img/foot03/l02.png" width="47" height="49" class="shows" />
			    	<img src="../static/img/foot03/qrcode.jpg" width="196" height="205" class="hides" usemap="#taklhtml"/>
		    	</a>
	    	</li>
    	</ul>
    </div><!--leftsead end-->

            {% block content %}
    <main class="cd-main">
        <section class="cd-section index visible">
            <div id="index-content" class="cd-content ">
                <div style="border-top:6px double #e5e5e5;background-color: white;position: absolute;width: 210px;height: 120px;top:10px;left:3%;">
                    <div style="position:relative;border-top:1px dashed #e5e5e5;top:30px;"></div>
                    <div style="text-indent:10px;position: relative;font-weight: bold;color: #AEAEAE;">用户总数</div>
                    <div style="position: relative;left: 75%;width: 40px;height: 20px;top: -18px;background-color: #858AE5;">
                        <div style="text-align: center;color:#FFF9F0;font-weight: bold;">Users</div>
                    </div>
                    <div style="position: relative;text-align: center;top:20px;font-weight: bold;color:#BCBCBC;font-size:50px">{{ usall }}</div>
                </div>
                <div style="border-top:6px double #e5e5e5;background-color: white;position: absolute;width: 210px;height: 120px;top:10px;left:23%;">
                    <div style="position:relative;border-top:1px dashed #e5e5e5;top:30px;"></div>
                    <div style="text-indent:10px;position: relative;font-weight: bold;color: #AEAEAE;">主机总数</div>
                    <div style="position: relative;left: 75%;width: 40px;height: 20px;top: -18px;background-color: #E56EA1;">
                        <div style="text-align: center;color:#FFF9F0;font-weight: bold;">Hosts</div>
                    </div>
                    <div style="position: relative;text-align: center;top:20px;font-weight: bold;color:#BCBCBC;font-size:50px">{{ hsall }}</div>
                </div>
                <div style="border-top:6px double #e5e5e5;background-color: white;position: absolute;width: 210px;height: 120px;top:10px;left:43%;">
                    <div style="position:relative;border-top:1px dashed #e5e5e5;top:30px;"></div>
                    <div style="text-indent:10px;position: relative;font-weight: bold;color: #AEAEAE;">在线用户</div>
                    <div style="position: relative;left: 75%;width: 40px;height: 20px;top: -18px;background-color: #5CBBAD;">
                        <div style="text-align: center;color:#FFF9F0;font-weight: bold;">Alive</div>
                    </div>
                    <div style="position: relative;text-align: center;top:20px;font-weight: bold;color:#BCBCBC;font-size:50px">{{ usave }}</div>
                </div>
                <div style="border-top:6px double #e5e5e5;background-color: white;position: absolute;width: 210px;height: 120px;top:10px;left:63%;">
                    <div style="position:relative;border-top:1px dashed #e5e5e5;top:30px;"></div>
                    <div style="text-indent:10px;position: relative;font-weight: bold;color: #AEAEAE;">已连接服务器</div>
                    <div style="position: relative;left: 75%;width: 40px;height: 20px;top: -18px;background-color: #71E5D4;">
                        <div style="text-align: center;color:#FFF9F0;font-weight: bold;">ConT</div>
                    </div>
                    <div style="position: relative;text-align: center;top:20px;font-weight: bold;color:#BCBCBC;font-size:50px">{{ mcont }}</div>
                </div>
                <div style="border-top:6px double #e5e5e5;background-color: white;position: absolute;width: 210px;height: 120px;top:10px;left:82%;">
                    <div style="position:relative;border-top:1px dashed #e5e5e5;top:30px;"></div>
                    <div style="text-indent:10px;position: relative;font-weight: bold;color: #AEAEAE;">发布任务次数</div>
                    <div style="position: relative;left: 75%;width: 40px;height: 20px;top: -18px;background-color: #E4A0E5;">
                        <div style="text-align: center;color:#FFF9F0;font-weight: bold;">PuB</div>
                    </div>
                    <div style="position: relative;text-align: center;top:20px;font-weight: bold;color:#BCBCBC;font-size:50px">{{ pub }}</div>
                </div>
{#      footer          #}
                <div style="border-top:6px double #e5e5e5;background-color: white;position: absolute;width: 320px;height: 220px;top:60%;left:3%;">
                    <div style="position:relative;border-top:1px dashed #e5e5e5;top:30px;">
                        <div style="text-indent:10px;position: relative;font-weight: bold;color: #AEAEAE;top:-25px;">一周Top10资产</div>
                        <div style="position: relative;left: 85%;width: 40px;height: 20px;top: -45px;background-color: #E4A0E5;">
                            <div style="text-align: center;color:#FFF9F0;font-weight: bold;">Top10</div>
                        </div>
                        <div style="position: relative;top:20px;font-weight: bold;color:#BCBCBC;font-size:10px">
                            <ul style="position:absolute;left: 20px;top:-50px;">
                                {% for cip,ctime,cacount,cuser in Top %}
                                <li style="list-style-type: circle">
                                    {{ cip }} {{ ctime }} {{ cacount }} {{ cuser }}
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
                <div style="border-top:6px double #e5e5e5;background-color: white;position: absolute;width: 420px;height: 220px;top:60%;left:30%;">
                    <div style="position:relative;border-top:1px dashed #e5e5e5;top:30px;">
                        <div style="text-indent:10px;position: relative;font-weight: bold;color: #AEAEAE;top:-25px;">近期发布任务</div>
                        <div style="position: relative;left: 85%;width: 40px;height: 20px;top: -45px;background-color: #E4A0E5;">
                            <div style="text-align: center;color:#FFF9F0;font-weight: bold;">Top10</div>
                        </div>
                        <div style="position: relative;top:20px;font-weight: bold;color:#BCBCBC;font-size:10px">
                            <ul style="position:absolute;left: 20px;top:-50px;">
                                {% for ctime,cevent,cuser in Event %}
                                <li style="list-style-type: circle">
                                    {{ cevent }}  {{ cuser }} {{ ctime }}
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
{#     footer           #}
                <div class="col-lg-8" style="height:250px;padding:0;top:120px;z-index:100">
                     <div id="placeholder" style="width:100%;height:100%;line-height:1.2em;left:-40px"></div>
               </div>
                <div class="col-lg-3 pull-right" style="height:250px;top:120px;padding:0;left:-30px;">
                    <h5>Memory:</h5>
                <div id='chart'></div>
                    <div style="    background-color: white;width: 1235px;height: 280px;position: absolute;top: -10px;z-index: -1;left: -307%;right: 1%;"></div>
               </div>
            </div>
        </section>
    </main>
    <div id="cd-loading-bar" data-scale="1" class="index" style=""></div>
            {% endblock %}

     {% block footer %}
    <script src="../static/js/dydata.js"></script>
    <script src="../static/js/headimg.js"></script>
{#    <script src="../static/js/index.js"></script>#}
    <script src="../static/plugin/memory/d3-3.5.0.min-3b564392.js" type="text/javascript"></script>
    <script src="../static/plugin/memory/c3.min-12912fb6.js" type="text/javascript"></script>
    <script src="../static/plugin/memory/chart_gauge-f691ebb1.js" type="text/javascript"></script>
    <script src="../static/js/jquery.menu-aim.js"></script>
{#    <script src="../static/js/dycontent.js"></script> <!-- Resource $ -->#}
    <script src="../static/js/rightpg.js"></script> <!-- Resource $ -->
    <script src="../static/js/sidebar-menu.js"></script> <!-- Resource $ -->
    <script src="../static/js/velocity.min.js"></script>
    <script>
    $.sidebarMenu($('.sidebar-menu'))
    </script>
    {% endblock %}


</body>
</html>
