{% extends "index_base.html" %}
{% block meta %}
    <link rel="stylesheet" href="../static/css/reset.css"> <!-- CSS reset -->
	<link rel="stylesheet" type="text/css" href="../static/css/default.css">
	<link rel="stylesheet" href="../static/css/style.css"> <!-- Resource style -->
    <link rel="stylesheet" href="../static/css/sidebar-menu.css">
      <link href="../static/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/index.css">
    <link rel="stylesheet" href="../static/css/headimg.css">
{#    <script src="../static/js/jquery-1.11.2.min.js"></script>#}
    <script src="../static/js/bootstrap.min.js"></script>
    <style type="text/css">
    *{margin:0;padding:0;list-style-type:none;}
    a,img{border:0;cursor: hand}
    body{font:12px/180% Arial, Helvetica, sans-serif, "新宋体";background:#ddd;}

/* leftsead */
    #leftsead{width:131px;height:143px;position:fixed;top:600px;right:0px;z-index: 100;}
    *html #leftsead{margin-top:258px;position:absolute;}
    #leftsead li{width:131px;height:53px;}
    #leftsead li img{float:right;border-bottom-left-radius:5px;border-top-left-radius:5px;}
    #leftsead li a{height:49px;float:right;display:block;min-width:47px;max-width:131px;}
    #leftsead li a .shows{display:block;}
{#    #leftsead li a .hides{margin-right:-166px;cursor:pointer;cursor:hand;}#}
    #leftsead li a .hides{margin-right:-166px;}
    #leftsead li a.youhui .hides{display:none;position:absolute;right:215px;top:-111px;width:200px;}
    .glyphicon {top:-1px;}
    .main-sidebar{
	position: absolute;
	padding-top: 4%;
	left: 0;
	height: 100%;
	min-height: 100%;
{#	width: 230px;#}
	z-index: 5;
	background-color: #222d32;
    }
    #notice{position: absolute;  right: 220px;  top: 40%;}
    #mail{position: absolute;  right: 190px;  top: 40%;}
    #set{position: absolute;  right: 160px;  top: 40%;}
    #out{position: absolute;  right: 130px;  top: 40%;}
    #showCRTWindow pre::-webkit-scrollbar {
        width: 10px;
    }
    #showCRTWindow pre::-webkit-scrollbar-thumb {
        background: #09C;
        border-radius: 4px;
    }
    </style>

{% endblock %}


{% block content %}
	<header class="cd-main-header">
		<a href="#0" class="cd-logo"><img src="../static/img/logo.jpeg" alt="Logo"></a>

		<div class="cd-search is-hidden">
			<form action="#0">
				<input type="search" placeholder="Search...">
			</form>
		</div> <!-- cd-search -->

		<a href="#0" class="cd-nav-trigger">Menu<span></span></a>

		<nav class="cd-nav">
			<ul class="cd-top-nav">
{#				<li  class="glyphicon glyphicon-bullhorn"><a  class="" href="#0"></a></li>#}
{#				<li class="glyphicon glyphicon-envelope"><a href="#0"></a></li>#}
                <a  class="glyphicon glyphicon-bullhorn" href="#0" id="notice"></a>
                <a class=" glyphicon glyphicon-envelope" href="#1" id="mail"></a>
                <a href="javascript:;" onclick="jQuery('#head').show()"  class="glyphicon glyphicon-cog show" id="set"></a>
                <a href="/ops/logout" class="glyphicon glyphicon-share" id="out"></a>
				<li class="has-children account">
					<a href="#0">
                        <img src={{ head }} >
                        {{  user }}
					</a>
				</li>
			</ul>
		</nav>
{#   loadding  pic     #}
        <div id="loadPic"
             style="text-align: center;padding: 10px;color: white;font-weight:bold   ;border-radius:8px;background: rgba(0,0,0,0.5);z-index: 1004;width: 200px;height:40px;margin:auto;position:fixed;top:0px;bottom:0px;right:0px;left:0px;display: none;">
            <i class="fa fa-refresh fa-spin"></i>
            <span style="letter-spacing: 4px;">请稍后...</span>
        </div>
{#    loadding end     #}
{#    show error    #}
        <div id="confirmCommandDiv"
             style="z-index: 1005;display:none;position: fixed;  top: 0px; bottom: 0px ;left: 0px; right: 0px; ">
            <div style="width:auto;height: 200px;position: relative;left: 0px;right: 0px;top: 40%;bottom: 60%;margin: auto;;"
                 id="">
                <div class="modal "
                     style="overflow:hidden;overflow-y:hidden;position:fixed;left:0px;right:0px;bottom:0px;top:0px;margin:auto;display:block;">
                    <div class="modal-dialog">
                        <div class="modal-content  ">
                            <div class="modal-header" style="cursor: move;">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                <h4 class=" glyphicon glyphicon-alert " style="color: red;">错误</h4>
                            </div>
                            <div class="modal-body  ">
                                <p id="showWarnContent" style="text-align:center;color:red; font-weight:bold;">
                                    请确认您的内容?</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal"
                                        id="forceExecuteCommand">强制
                                </button>
                                <button type="button" class="btn btn-default" data-dismiss="modal"
                                        id="closeConfirmCommandButton">
                                    放弃
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
{#    show error  end  #}
{#    create  script   input  #}
        <div class="box" style="z-index: 1004;width:auto;height:100%;position: fixed;left: 0px;right: 0px;top: 0px;;bottom: 0%;margin: auto;display:none;" id="showScriptName">
            <div class="modal" style="height: 100%;;position:relative;left:0px;right:0px;bottom:0px;top:0px;margin:auto;display:block;">
                <div class="modal-dialog">
                    <div class="modal-content  ">
                        <div class="modal-header" style="cursor: move;">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                            <h4 class=" glyphicon glyphicon-edit " style="color: green;">脚本名</h4>
                        </div>
                        <div class="modal-body">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-md-2 control-label">脚本名</label>
                                    <div class="col-md-10">
                                        <input id="scriptName" class="form-control" placeholder="请输入新建脚本名称" style="border:1px dashed #b0b0b0;">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button style="float: left;" type="button" class="btn btn-default" data-dismiss="modal"
                                    id="closeScriptNameButton">取消
                            </button>
                            <button style="float:right;" type="button" class="btn btn-success" data-dismiss="modal"
                                    id="inputScriptName">下一步
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
{#   create script  input     #}
{#   upload plugins     #}
        <div id="uploadScriptProgressDiv" class="progress progress-striped" style="font-weight: bold;font-size: 500%;z-index: 1004;width:40%;height:5%;margin:auto;position:fixed;top:0%;bottom:0%;right:0px;left:120%;display: block;">
            <div id="showScriptProgressText" class="progress-bar  progress-bar-success active">
            </div>
        </div>
      {#   上传头像裁剪 headimg.js& 修改密码    #}
        <div class="box" id="head">
            <div class="head_box">
                <a href="javascript:;" onclick="jQuery('#head').hide()" class="close">关闭</a>
                <div>
                    <a href="javascript:;" class="file">上传头像
                        <input id="hd_img_in" type="file" class="" accept="images/*">
                    </a>
                    <div class="container"></div>
                    <button class="btn btn-info head" onclick="head_img(this)">提交</button>
                    <a href="javascript:;" onclick="jQuery('.pwd_box').css('display','block')" class="btn btn-info cg-bt ">
                        <div class="cg-pwd">更改密码</div>
                    </a>
                </div>
            </div>
        </div>
           <div class="" id="change_pwd">
            <div class="pwd_box">
                <input placeholder="修改密码" name="password" value size="30" maxlength="30" type="password" class=""
                       id="" style="border-radius: 10px;">
                <button class="btn btn-info pwd">
                    <div class="head-pwd">提交</div>
                </button>
                <a href="javascript:;" onclick="jQuery('#change_pwd').hide()" class="btn btn-danger pwd">
                    <div class="head-pwd-close">关闭</div>
                </a>
            </div>
        </div>
	</header> <!-- .cd-main-header -->

    <aside class="main-sidebar">
        <section class="sidebar">
            <ul class="sidebar-menu">
                <li class="treeview">
                    <a href="/ops/index" >
                        <i class="fa fa-dashboard"></i> <span>仪表盘</span> <i
                            class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="#0" id="base" class="" data-menu="index"><i class="fa fa-circle-o"></i> Dashboard v1</a></li>
                        <li><a href="#0"    data-menu="service"><i class="fa fa-circle-o"></i> Dashboard v2</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-files-o"></i>
                        <span>服务器信息管理</span>
                    </a>
                    <ul class="treeview-menu" style="display: none;">
                        <li><a href="#" id="base3" data-menu="host_input"><i class="fa fa-circle-o"></i> 服务器配置</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Boxed</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Fixed</a></li>
                        <li class=""><a href="#"><i class="fa fa-circle-o"></i> Collapsed Sidebar</a>
                        </li>
                    </ul>
                </li>
                <li class="content">
                    <a onclick="" id='cmd'  data-menu="cmd">
                        <i class="fa fa-terminal"></i> <span>命令执行</span>
                    </a>
                </li>
                <li class="content">
                    <a onclick="" id='script' class="selected"  data-menu="script">
                        <i class="fa fa-superscript"></i> <span>脚本管理</span>
                    </a>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-pie-chart"></i>
                        <span>Charts</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="#"><i class="fa fa-circle-o"></i> ChartJS</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Morris</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Flot</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Inline charts</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-laptop"></i>
                        <span>UI Elements</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="#"><i class="fa fa-circle-o"></i> General</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Icons</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Buttons</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Sliders</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Timeline</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Modals</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-edit"></i> <span>Forms</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="#"><i class="fa fa-circle-o"></i> General Elements</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Advanced Elements</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Editors</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-table"></i> <span>Tables</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="#"><i class="fa fa-circle-o"></i> Simple tables</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Data tables</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class="fa fa-calendar"></i> <span>Calendar</span>
                        <small class="label pull-right label-danger">3</small>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fa fa-envelope"></i> <span>Mailbox</span>
                        <small class="label pull-right label-warning">12</small>
                    </a>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-folder"></i> <span>文件传输</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="/ops/fileup"  data-menu="fileup"><i class="fa fa-circle-o"></i>上传 </a></li>
                        <li><a href="/ops/filetrans/download/"  data-menu="filedown"><i class="fa fa-circle-o"></i>下载</a></li>
                    </ul>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-share"></i> <span>Multilevel</span>
                        <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="#"><i class="fa fa-circle-o"></i> Level One</a></li>
                        <li>
                            <a href="#"><i class="fa fa-circle-o"></i> Level One <i
                                    class="fa fa-angle-left pull-right"></i></a>
                            <ul class="treeview-menu">
                                <li><a href="#"><i class="fa fa-circle-o"></i> Level Two</a></li>
                                <li>
                                    <a href="#"><i class="fa fa-circle-o"></i> Level Two <i
                                            class="fa fa-angle-left pull-right"></i></a>
                                    <ul class="treeview-menu">
                                        <li><a href="#"><i class="fa fa-circle-o"></i> Level Three</a></li>
                                        <li><a href="#"><i class="fa fa-circle-o"></i> Level Three</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Level One</a></li>
                    </ul>
                </li>
                <li><a href="#"><i class="fa fa-book"></i> <span>Documentation</span></a></li>
{#                <li class="header">LABELS</li>#}
{#                <li><a href="#"><i class="fa fa-circle-o text-red"></i> <span>Important</span></a></li>#}
{#                <li><a href="#"><i class="fa fa-circle-o text-yellow"></i> <span>Warning</span></a></li>#}
{#                <li><a href="#"><i class="fa fa-circle-o text-aqua"></i> <span>Information</span></a></li>#}
            </ul>
        </section>
    </aside>


    <div id="leftsead">
    	<ul>
            {# 其实可以将通知，邮件都放到这里来，后面在考虑吧  #}
{#	     <li>#}
{#			<a id="top_btn">#}
{#				<img src="../static/img/foot03/ll06.png" width="47" height="49" class="hides"/>#}
{#				<img src="../static/img/foot03/l06.png" width="47" height="49" class="shows" />#}
{#			</a>#}
{#		</li>#}

		<li>
			<a href="">
				<img src="../static/img/foot03/ll03.png"  width="47" height="49" class="hides"/>
				<img src="../static/img/foot03/l03.png" width="47" height="49" class="shows" />
			</a>
		</li>
            {# 增加微信聊天求助websocket#}
{#            <li>#}
{#                <a href="">#}
{#                  <img src="../static/img/foot03/ll02.png" width="166" height="49" class="hides"/>#}
{#                  <img src="../static/img/foot03/l04.png" width="47" height="49" class="shows" />#}
{#                </a>#}
{#            </li>#}
		    <li>
			    <a class="youhui">
				    <img src="../static/img/foot03/l02.png" width="47" height="49" class="shows" />
			    	<img src="../static/img/foot03/qrcode.jpg" width="196" height="205" class="hides" usemap="#taklhtml"/>
		    	</a>
	    	</li>
            <li>
			    <a class="youhui">
				    <img src="../static/img/foot03/l02.png" width="47" height="49" class="shows" />
			    	<img src="../static/img/foot03/qrcode.jpg" width="196" height="205" class="hides" usemap="#taklhtml"/>
		    	</a>
	    	</li>
    	</ul>
    </div><!--leftsead end-->
    <main class="cd-main">
        <section class="cd-section script visible">
            <div id="index-content" class="cd-content" style="padding: 1em 19px;margin:0 0 0 -90px">
                <div class="panel panel-default" style="background: white;height:100%;display: block;position: relative;"
                     id="uploadScriptDropz">
                    <p class="navbar-form" style="width:100%;margin-bottom:10px;">
                    <div class="input-group" style="padding:10px;z-index: 0;">
                        <input type="text" class="form-control searchValue" placeholder="搜索任意关键字"
                               style="width:100%;">
                        <span class="input-group-btn">
                        <button class="btn btn-success" style="height: 34px;">
                                <span class="glyphicon glyphicon-search">搜索</span>
                        </button>
                         </span>
                    </div>
                    </p>
                <div class="panel-heading" style="background: white;position:relative;margin-top: -30px;">
                    <button class="btn btn-success btn-xs glyphicon glyphicon-plus" id="createScriptName"></button>
                    <button class="btn btn-default btn-xs glyphicon glyphicon-refresh" id="refreshScriptList"></button>
                </div>

                <table class="table  table-hover table-striped   table-responsive  table-bordered">
                    <thead>
                    <tr>
                        <th>脚本</th>
                        <th class="hidden-xs">时间</th>
                        <th style="min-width: 95px;">操作</th>
                    </tr>
                    </thead>
                    <tbody id="showScriptTbody"></tbody>
                    <tr>
                    </tr>
                </table>
                    <div id="scriptArea"
                         style="width:100%;margin:auto;position:absolute;top:100%;bottom:0%;right:0%;left:0%;display:none;z-index:10">
                        <div style="color: white;z-index:5;font-size: 200%;position: absolute;top:0%;right: 1%;cursor:pointer;">
                            <button id="closeScriptContent" class="btn btn-danger btn-sm">关闭</button>
                            <button id="writeScriptContent" class="btn btn-success btn-sm ">更新</button>
                        </div>
                        <div style="height: 100%">
                            <textarea class="" id="scriptContent"
                                      style="letter-spacing: 2px;font-family:华文仿宋;font-size:100%;background: black;width:1265px;height:100%;margin:auto;color:white;"></textarea>
                        </div>
                    </div>
                </div>
                <div id="scriptDIV" style="background:white;width:100%;margin:auto;position:absolute;top:0%;bottom:0%;right:0%;left:0%;display:none">
                <span class="glyphicon glyphicon-remove-sign" id="closeScriptDiv" style="float: right;z-index: 1;font-size:300%;cursor: pointer;"></span>
                    <ul class="nav nav-tabs" role="tablist" id="myTab">
                        <li role="presentation" class="active"><a href="#scriptServers" role="tab" data-toggle="tab">服务器</a></li>
                        <li role="presentation"><a href="#scriptParameter" role="tab" data-toggle="tab">参数</a></li>
                        <li role="presentation"><a href="#scriptInit" role="tab" data-toggle="tab">初始化</a></li>
                        <li role="presentation"><a href="#scriptResult" role="tab" data-toggle="tab">结果</a></li>
                    </ul>

                    <div class="tab-content" style="margin-top:30px;">
                        <div role="tabpanel" class="tab-pane active" id="scriptServers">
                            <button id="goParameter" class="btn-sm btn-success btn" style="float: right;">下一步</button>
                            <div style="float: left">
                        <span id="scriptSelectAllServers" class="glyphicon glyphicon-check"
                              style="cursor: pointer;">&nbsp;全选</span>
                            </div>
                            <!--server list-->
                            <table class="table table-bordered table-hover table-striped  table-condensed">
                                <thead>
                                <tr>
                                    <th>主机组</th>
                                    <th>主机</th>
                                </tr>
                                </thead>
                                <tbody id="scriptSelectServerTbody">
                                <!--
                                <tr>
                                -->
                                </tbody>
                            </table>
                        </div>
                        <div role="tabpanel" class="tab-pane clearfix" id="scriptParameter">
                            <div style="float: right;">
                                <button id="goInit" class="btn-sm btn-success btn" style="">下一步</button>
                            </div>
                            <!--script args input-->
                            <div class="form-horizontal">
                                <div class="form-group" style="margin-top: 10%;">
                                    <label class="col-md-1 col-xs-2 control-label">脚本参数</label>
                                    <div class="col-md-8 col-xs-10">
                                        <input id="inputScriptParameter" class="form-control" placeholder="请输入脚本执行的参数"
                                               style="letter-spacing: 3px;border:1px dashed #b0b0b0;">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="scriptInit">
                            <div>
                                <button class="btn btn-success" style="float: right;" disabled>
                                    <span class="" id="goRun">执行</span>
                                </button>
                            </div>
                            <!--init script  example-->
                            <!--
                            <div class="col-md-12 row" >
                                <label class="control-label  col-md-2">服务器A</label>
                                <div class="col-md-10 progress progress-striped">
                                    <div class="progress-bar progress-bar-success" style="width: 80%">100</div>
                                </div>
                            </div>
                            -->
                        </div>
                        <div role="tabpanel" class="tab-pane" id="scriptResult">
                            <button id="scriptResultLoad" class="btn btn-success btn-xs"
                                    style="margin-bottom: 20px;margin-left: 20px;">
                                <span class="fa fa-spin fa-refresh"></span>
                            </button>
                            <!--script result-->
                            <div id="showScriptResult">
                            </div>
                            <div class="progress progress-striped  ">
                                <div id="runScriptProgress" class="progress-bar progress-bar-success  "></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <div id="cd-loading-bar" data-scale="1" class="index" style=""></div>

    <script src="../static/js/auto-line-number.js"></script>
    <script src="../static/js/dropzone.js"></script>
    <script src="../static/js/jquery-ui.min.js"></script>
    <script src="../static/js/script.js"></script>
    <script src="../static/js/headimg.js"></script>
    <script src="../static/js/jquery-migrate-1.0.0.js"></script>  {# this is 1.8 feature support toggle  ,1.9 is already  deprecated#}
    <script src="../static/js/jquery.menu-aim.js"></script>
    <script src="../static/js/rightpg.js"></script> <!-- Resource jQuery -->
    <script src="../static/js/sidebar-menu.js"></script> <!-- Resource jQuery -->
    <script src="../static/js/velocity.min.js"></script>
    <script>
    $.sidebarMenu($('.sidebar-menu'))
    </script>
    <script>
    $(function (){
        $('#base').click(function () {
            window.location.href = '/ops/index';
        })
    })
    </script>

{% endblock %}